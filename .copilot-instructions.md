# GitHub Copilot Instructions for M4Capital Project

## ‚ö†Ô∏è CRITICAL: THIS IS A PRODUCTION APPLICATION

This is a **REAL, PRODUCTION-READY** financial trading platform, not a demo or prototype.

## üö´ NEVER USE SIMULATED DATA

**ABSOLUTE RULE**: NEVER create, use, or suggest simulated, mock, fake, demo, or test data in ANY form.

### Prohibited Patterns

DO NOT use any of the following:

- ‚ùå `Math.random()` for price generation
- ‚ùå `mock*` variables or functions (mockData, mockPrices, etc.)
- ‚ùå `fake*` variables or functions
- ‚ùå `demo*` variables or functions
- ‚ùå `test*` data arrays or objects
- ‚ùå `dummy*` data
- ‚ùå `simulate*` functions
- ‚ùå Hardcoded sample data arrays
- ‚ùå Generated placeholder values
- ‚ùå Random walk algorithms for price simulation
- ‚ùå Fallback to fake data when API fails

### Required Approach

ALWAYS use real data sources:

‚úÖ **For Market Data:**

- Binance WebSocket API: `wss://stream.binance.com:9443/stream`
- Binance REST API: `https://api.binance.com/api/v3/*`
- Frankfurter API for forex: `https://api.frankfurter.app/`

‚úÖ **For User Data:**

- Query PostgreSQL database via Prisma
- Fetch from authenticated user session
- Return empty arrays `[]` or null if no data exists

‚úÖ **For AI Features:**

- HuggingFace API for predictions
- Real historical data for training
- Actual market indicators

‚úÖ **Error Handling:**

- Return proper error responses with HTTP status codes
- Return empty arrays/objects if data not available
- Show user-friendly error messages
- NEVER fall back to mock/fake data

### Examples

**‚ùå WRONG:**

```typescript
// NEVER DO THIS
const mockPrices = [100, 101, 102, 103];
const fakeChange = (Math.random() - 0.5) * 2;
const demoData = generateMockData();
```

**‚úÖ CORRECT:**

```typescript
// Fetch real data from API
const response = await fetch(
  "https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT"
);
const data = await response.json();

// Or query real database
const trades = await prisma.trade.findMany({
  where: { userId: user.id },
});

// If no data, return empty or error
if (!trades.length) {
  return [];
}
```

### When APIs Fail

**‚ùå WRONG:**

```typescript
catch (error) {
  return mockFallbackData; // NEVER DO THIS
}
```

**‚úÖ CORRECT:**

```typescript
catch (error) {
  console.error('API error:', error);
  return NextResponse.json(
    { error: 'Failed to fetch data. Please try again later.' },
    { status: 500 }
  );
}
```

## üéØ Data Sources Reference

### Cryptocurrency Prices

- **Real-time**: Binance WebSocket (`wss://stream.binance.com:9443/stream`)
- **Historical**: Binance REST API (`/api/v3/klines`)
- **Never**: Math.random(), hardcoded arrays

### Forex Rates

- **Current**: Frankfurter API (`https://api.frankfurter.app/latest`)
- **Historical**: Frankfurter API (`https://api.frankfurter.app/YYYY-MM-DD`)
- **Never**: Random calculations, mock exchange rates

### User Portfolio/Trades

- **Source**: PostgreSQL via Prisma ORM
- **Models**: User, Trade, Portfolio, Transaction
- **Never**: mockAssets, mockPortfolio, hardcoded balances

### News/Market Events

- **Source**: Real news API (to be integrated)
- **Never**: Hardcoded fake articles, simulated sentiment

### AI Predictions

- **Source**: HuggingFace API with real historical data
- **Never**: Random walk simulations, fake predictions

## üîç Code Review Checklist

Before submitting any code, verify:

- [ ] No `Math.random()` used for financial data
- [ ] No variables named `mock*`, `fake*`, `demo*`, `test*`
- [ ] No hardcoded price/balance arrays
- [ ] All data fetched from real APIs or database
- [ ] Error handling returns errors, not fake fallback data
- [ ] No "demo mode" or "sample data" fallbacks

## üìö Required Reading

- Project architecture: `.github/copilot-instructions.md`
- Database schema: `prisma/schema.prisma`
- API routes: `src/app/api/**/*`
- Market data service: `src/lib/marketData.ts`

---

**Remember**: Users are investing REAL MONEY. Every piece of data must be authentic.
